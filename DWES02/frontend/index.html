<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body>
        <?php 
        
            $agenda = array();

            if (isset($_GET['Reset'])) {
                unset($agenda);
            }

            if (!isset($_POST['name']) && !isset($_POST['number'])) {
                echo "El formulario está vacio";
            } else if (!NameExists($_POST['name']) && isset($_POST['number'])) {
                <!-- Se añade el numero al formulario-->
            } else if (NameExists($_POST['name']) && isset($_POST['number'])) {
                <!-- Actualizar el numero -->
            } else if (NameExists($_POST['name']) && !isset($_POST['number'])) {
                <!-- Eliminar registro -->
            }

            if ( count($agenda) != 0 ) {
                echo "
                    <form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="GET">
                        <input type="submit" value="Reset" id="Reset"/>
                    </form>
                ";
            }
        
            function NameExists ($name) {
                foreach ($agenda as $nombre => $numero) {
                    
                    if($name == $nombre) {
                        return true;
                    }
                }
                return false;
            }
        
        ?>
        <!-- Formulario -->
        <form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="POST">
            <table>
                <thead>
                    <th colspan="2">Insertar/Actualizar Nuevo Contacto</th>
                </thead>
                <tbody>
                    <tr>
                        <td><label>Nombre</label></td>
                        <td><input type="text" id="name" required="required"/></td>
                    </tr>
                    <tr>
                        <td><label>Número</label></td>
                        <td><input type="text" id="number" required="required"/></td>
                    </tr>
                </tbody>
            </table>
            <input type="submit" value="Enviar"/>
        </form>
    </body>
</html>